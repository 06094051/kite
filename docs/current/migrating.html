
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2014-12-10
 Rendered using Maven Reflow Skin 1.0.0 (http://andriusvelykis.github.com/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Kite - Migrating to Kite</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/docs.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />
		
		<link href="http://yandex.st/highlightjs/7.3/styles/github.min.css" rel="stylesheet" />
		
		<link href="./css/lightbox.css" rel="stylesheet" />
		
		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />
		
		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

	</head>

	<body class="page-migrating project-kite-parent" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<div class="brand">Kite Software Development Kit</div>
					<div class="nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Main <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="index.html" title="Home">Home </a></li>
									<li><a href="guide" title="Development Guide">Development Guide </a></li>
									<li><a href="release_notes.html" title="Release Notes">Release Notes </a></li>
									<li><a href="apidocs/index.html" title="Javadoc">Javadoc </a></li>
									<li><a href="jdiff/changes.html" title="API Diffs">API Diffs </a></li>
									<li><a href="dependencies.html" title="Dependency Information">Dependency Information </a></li>
									<li class="active"><a href="" title="Migrating from CDK">Migrating from CDK </a></li>
									<li><a href="http://github.com/kite-sdk/kite-examples" title="Examples" class="externalLink">Examples </a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="kite-data/index.html" title="Kite Data">Kite Data </a></li>
									<li><a href="kite-maven-plugin/index.html" title="Kite Maven Plugin">Kite Maven Plugin </a></li>
									<li><a href="kite-morphlines/index.html" title="Kite Morphlines">Kite Morphlines </a></li>
									<li><a href="kite-tools-parent/index.html" title="Kite Tools">Kite Tools </a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="http://github.com/kite-sdk/kite" title="Source Repository" class="externalLink">Source Repository </a></li>
									<li><a href="https://issues.cloudera.org/browse/CDK" title="JIRA" class="externalLink">JIRA </a></li>
									<li><a href="https://groups.google.com/a/cloudera.org/forum/#!forum/cdk-dev" title="Mailing List" class="externalLink">Mailing List </a></li>
									<li><a href="https://github.com/kite-sdk/kite/wiki/How-to-contribute" title="How To Contribute" class="externalLink">How To Contribute </a></li>
									<li><a href="adding_a_module.html" title="Adding a Module">Adding a Module </a></li>
									<li><a href="project-info.html" title="Project Information">Project Information </a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>
		
	<div class="container">
	
	<!-- Masthead
	================================================== -->
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="page-header">
 <h1>Migrating to Kite</h1>
</div> 
<p>This guide details the changes necessary to migrate existing projects to Kite.</p> 
<div class="section"> 
 <h2 id="From_CDK-0.9.0">From CDK-0.9.0</h2> 
 <p>As of version 0.10.0, CDK has been renamed to Kite. The main goal of Kite is to increase the accessibility of Apache Hadoop as a platform. This isn’t specific to Cloudera, so we updated the name to correctly represent the project as an open, community-driven set of tools.</p> 
 <p>Version 0.10.0 is purely a rename. There are <b>no feature changes</b>, so after migration from 0.9.0 to 0.10.0, datasets and morphlines will produce exactly the same results. Migration to is done primarily by updating project dependencies and imports, with some additional configuration changes.</p> 
 <div class="section"> 
  <h3 id="Dependencies">Dependencies</h3> 
  <p>Kite artifacts are now prefixed with <tt>kite-</tt> instead of <tt>cdk-</tt>, and the group id is now <tt>org.kitesdk</tt> instead of <tt>com.cloudera.cdk</tt>. All references must be updated.</p> 
  <p>For projects using maven, running these commands in a project’s root folder will find and update POM entries:</p> 
  <div class="source"> 
   <pre># Update group ids from com.cloudera.cdk to org.kitesdk
find . -name pom.xml -exec sed -i '' -e 's/com\.cloudera\.cdk/org.kitesdk/g' '{}' \;
# Update artifact names from cdk-* to kite-*
find . -name pom.xml -exec sed -i '' 's/cdk-/kite-/g' '{}' \;
</pre> 
  </div> 
  <p>In addition, the version in POM files must be updated to <tt>0.10.0</tt>. This command will find the potential references:</p> 
  <div class="source"> 
   <pre>find . -name pom.xml -exec grep 0.9.0 '{}' \;
</pre> 
  </div> 
  <p>Other build configurations should be updated similarly. The <b>required changes</b> are:</p> 
  <ul> 
   <li><tt>com.cloudera.cdk</tt> group id changes to <tt>org.kitesdk</tt></li> 
   <li><tt>cdk-...</tt> artifact names change to <tt>kite-...</tt></li> 
   <li><tt>0.9.0</tt> artifact versions change to <tt>0.10.0</tt></li> 
  </ul> 
 </div> 
 <div class="section"> 
  <h3 id="Imports">Imports</h3> 
  <p>Next, references to CDK / Kite packages must be updated. Only the package names have changed, so only import statements and similar package references must be changed. This command finds and updates import statements, avro schema namespaces, and log4j configurations:</p> 
  <div class="source"> 
   <pre>find . \( -name *.avsc -o -name *.avdl -o -name *.java -o -name log4j.properties \) \
      -exec sed -i '' -e 's/com\.cloudera\.cdk/org.kitesdk/g' '{}' \;
</pre> 
  </div> 
  <p>Other references to CDK should be updated also. For example, using a different slf4j binding would require updating the logging configuration for Kite / CDK classes in that logger’s configuration instead of <tt>log4j.properties</tt>.</p> 
  <p><b>Required changes</b>:</p> 
  <ul> 
   <li><tt>com.cloudera.cdk...</tt> package names change to <tt>org.kitesdk...</tt></li> 
  </ul> 
 </div> 
 <div class="section"> 
  <h3 id="Dataset_configuration_changes">Dataset configuration changes</h3> 
  <p>Some internal dataset properties have been changed from using the prefix <tt>cdk.</tt> to <tt>kite.</tt>. Most updates are backwards-compatible, except for partitioned datasets that are written by flume. Flume agent configurations must be updated when migrating to the <tt>kite-data-flume</tt> <tt>Log4jAppender</tt>.</p> 
  <p>This command updates <tt>flume.properties</tt> files. Flume agent configurations must also be updated, and the agents restarted.</p> 
  <div class="source"> 
   <pre># Update Flume configuration files - note that Flume agents will need to be updated too
find . -name flume.properties -exec sed -i '' 's/cdk\.partition/kite.partition/g' '{}' \;
</pre> 
  </div> 
  <p>This command renames the partition properties that are set by the <tt>Log4jAppender</tt>. The two components, clients logging events with the appender and flume agents, must use the same property naming scheme and should be updated and restarted at the same time.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Morphlines_configuration_changes">Morphlines configuration changes</h3> 
  <p>Morphlines configuration files must be updated to import morphlines commands from <tt>org.kitesdk</tt>. The following command finds and updates <tt>.conf</tt> files:</p> 
  <div class="source"> 
   <pre># Update Morphlines config file imports from com.cloudera.cdk to org.kitesdk
find . -name *.conf -exec sed -i '' 's/com\.cloudera\.cdk/org.kitesdk/g' '{}' \;
find . -name *.conf -exec sed -i '' 's/com\.cloudera\.\*\*/org.kitesdk.**/g' '{}' \;
</pre> 
  </div> 
  <p>The above change fixes startup errors that look like like this:</p> 
  <div class="source"> 
   <pre>org.kitesdk.morphline.api.MorphlineCompilationException: No command builder registered for name: readLine near: {
    # target/test-classes/test-morphlines/readLine.conf: 22
    &quot;readLine&quot; : {
        # target/test-classes/test-morphlines/readLine.conf: 24
        &quot;commentPrefix&quot; : &quot;#&quot;,
        # target/test-classes/test-morphlines/readLine.conf: 23
        &quot;ignoreFirstLine&quot; : true,
        # target/test-classes/test-morphlines/readLine.conf: 25
        &quot;charset&quot; : &quot;UTF-8&quot;
    }
}
	at org.kitesdk.morphline.base.AbstractCommand.buildCommand(AbstractCommand.java:271)
	at org.kitesdk.morphline.base.AbstractCommand.buildCommandChain(AbstractCommand.java:242)
	at org.kitesdk.morphline.stdlib.Pipe.&lt;init&gt;(Pipe.java:45)
	at org.kitesdk.morphline.stdlib.PipeBuilder.build(PipeBuilder.java:39)
</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Morphlines_command_implmentation_changes">Morphlines command implmentation changes</h3> 
  <p>Morphline users that maintain custom Java morphline commands need to change these commands to implement Java interface <tt>org.kitesdk.morphline.api.Command</tt> instead of <tt>com.cloudera.cdk.morphline.api.Command</tt> or subclass <tt>org.kitesdk.morphline.base.AbstractCommand</tt> instead of <tt>com.cloudera.cdk.morphline.base.AbstractCommand</tt>.</p> 
 </div> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->
	
	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Main</li>
						<li>
							<a href="index.html" title="Home">Home </a>
						</li>
						<li>
							<a href="guide" title="Development Guide">Development Guide </a>
						</li>
						<li>
							<a href="release_notes.html" title="Release Notes">Release Notes </a>
						</li>
						<li>
							<a href="apidocs/index.html" title="Javadoc">Javadoc </a>
						</li>
						<li>
							<a href="jdiff/changes.html" title="API Diffs">API Diffs </a>
						</li>
						<li>
							<a href="dependencies.html" title="Dependency Information">Dependency Information </a>
						</li>
						<li class="active">
							<a href="#" title="Migrating from CDK">Migrating from CDK </a>
						</li>
						<li>
							<a href="http://github.com/kite-sdk/kite-examples" title="Examples" class="externalLink">Examples </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Modules</li>
						<li>
							<a href="kite-data/index.html" title="Kite Data">Kite Data </a>
						</li>
						<li>
							<a href="kite-maven-plugin/index.html" title="Kite Maven Plugin">Kite Maven Plugin </a>
						</li>
						<li>
							<a href="kite-morphlines/index.html" title="Kite Morphlines">Kite Morphlines </a>
						</li>
						<li>
							<a href="kite-tools-parent/index.html" title="Kite Tools">Kite Tools </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Contribute</li>
						<li>
							<a href="http://github.com/kite-sdk/kite" title="Source Repository" class="externalLink">Source Repository </a>
						</li>
						<li>
							<a href="https://issues.cloudera.org/browse/CDK" title="JIRA" class="externalLink">JIRA </a>
						</li>
						<li>
							<a href="https://groups.google.com/a/cloudera.org/forum/#!forum/cdk-dev" title="Mailing List" class="externalLink">Mailing List </a>
						</li>
						<li>
							<a href="https://github.com/kite-sdk/kite/wiki/How-to-contribute" title="How To Contribute" class="externalLink">How To Contribute </a>
						</li>
						<li>
							<a href="adding_a_module.html" title="Adding a Module">Adding a Module </a>
						</li>
						<li>
							<a href="project-info.html" title="Project Information">Project Information </a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
		
	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2013-2014. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 0.17.1. </span><span class="publishDate">Last Published: 2014-12-10. </span></p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->

	<!-- Fallback jQuery loading from Google CDN:
	     http://stackoverflow.com/questions/1014203/best-way-to-use-googles-hosted-jquery-but-fall-back-to-my-hosted-library-on-go -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script type="text/javascript">
		if (typeof jQuery == 'undefined')
		{
			document.write(unescape("%3Cscript src='./js/jquery-1.8.3.min.js' type='text/javascript'%3E%3C/script%3E"));
		}
	</script>
	
	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.js"></script>
	<script src="./js/jquery.smooth-scroll.min.js"></script>
	<!-- back button support for smooth scroll -->
	<script src="./js/jquery.ba-bbq.min.js"></script>
	<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>

	<script src="./js/reflow-skin.js"></script>
	
	</body>
</html>
