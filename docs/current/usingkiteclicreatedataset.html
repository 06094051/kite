
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2014-05-13
 Rendered using Maven Reflow Skin 1.0.0 (http://andriusvelykis.github.com/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Kite - Using Kite CLI to create a dataset</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/docs.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />
		
		<link href="http://yandex.st/highlightjs/7.3/styles/github.min.css" rel="stylesheet" />
		
		<link href="./css/lightbox.css" rel="stylesheet" />
		
		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />
		
		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

	</head>

	<body class="page-usingkiteclicreatedataset project-kite-parent" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<div class="brand">Kite Software Development Kit</div>
					<div class="nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Main <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="index.html" title="Home">Home </a></li>
									<li><a href="release_notes.html" title="Release Notes">Release Notes </a></li>
									<li><a href="apidocs/index.html" title="Javadoc">Javadoc </a></li>
									<li><a href="jdiff/changes.html" title="API Diffs">API Diffs </a></li>
									<li><a href="dependencies.html" title="Dependency Information">Dependency Information </a></li>
									<li><a href="migrating.html" title="Migrating from CDK">Migrating from CDK </a></li>
									<li><a href="http://github.com/kite-sdk/kite-examples" title="Examples" class="externalLink">Examples </a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="kite-data/index.html" title="Kite Data">Kite Data </a></li>
									<li><a href="kite-maven-plugin/index.html" title="Kite Maven Plugin">Kite Maven Plugin </a></li>
									<li><a href="kite-morphlines/index.html" title="Kite Morphlines">Kite Morphlines </a></li>
									<li><a href="kite-tools/index.html" title="Kite Tools">Kite Tools </a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="http://github.com/kite-sdk/kite" title="Source Repository" class="externalLink">Source Repository </a></li>
									<li><a href="https://issues.cloudera.org/browse/CDK" title="JIRA" class="externalLink">JIRA </a></li>
									<li><a href="https://groups.google.com/a/cloudera.org/forum/#!forum/cdk-dev" title="Mailing List" class="externalLink">Mailing List </a></li>
									<li><a href="how_to_contribute.html" title="How To Contribute">How To Contribute </a></li>
									<li><a href="adding_a_module.html" title="Adding a Module">Adding a Module </a></li>
									<li><a href="project-info.html" title="Project Information">Project Information </a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>
		
	<div class="container">
	
	<!-- Masthead
	================================================== -->
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="page-header">
 <h1>Using Kite CLI to create a dataset</h1>
</div> 
<p>Kite provides a set of tools that handle the basic legwork for creating a dataset, allowing you to focus on the specifics of the business problem you want to solve. This short tutorial walks you through the process of creating a dataset and viewing the results using the command line interface (CLI).</p> 
<div class="section"> 
 <h2 id="Preparation">Preparation</h2> 
 <p>If you have not done so already, download the Kite <a class="externalLink" href="https://repository.cloudera.com/artifactory/libs-release-local/org/kitesdk/kite-tools/0.14.0/kite-tools-0.14.0-binary.jar">command-line interface jar</a>. This jar is the executable that runs the command-line interface, so save it as <tt>dataset</tt>. To download with curl, run:</p> 
 <div class="source"> 
  <pre>curl https://repository.cloudera.com/artifactory/libs-release-local/org/kitesdk/kite-tools/0.14.0/kite-tools-0.14.0-binary.jar -o dataset
chmod +x dataset
</pre> 
 </div> 
 <div class="section"> 
  <h3 id="Create_a_CSV_Data_File">Create a CSV Data File</h3> 
  <p>If you have a CSV file sitting around waiting to be used, you can substitute your file for the one that follows. The truth is, it doesn't matter if you have 100 columns or 2 columns, the process is the same. Larger datasets are only larger, not more complex.</p> 
  <p>If you don't have a CSV file handy, you can copy the next code snippet and save it as a plain text file named <i>sandwiches.csv</i>.</p> 
  <div class="source"> 
   <pre>name, description
Reuben, Pastrami and sauerkraut on toasted rye with Russian dressing.
PBJ, Peanut butter and grape jelly on white bread.
</pre> 
  </div> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Infer_the_Schema">Infer the Schema</h2> 
 <p>All right. Now we get to use the CLI. Start by inferring an Avro schema file from the <i>sandwiches.csv</i> file you just created. Enter the following command to create an Avro schema file named <i>sandwich.avsc</i> with the class name <i>Sandwich</i>. The schema details are based on the headings and data in <i>sandwiches.csv</i>.</p> 
 <p><tt>dataset csv-schema sandwiches.csv --class Sandwich -o sandwich.avsc</tt></p> 
 <p>If you open <i>sandwich.avsc</i> in a text editor, it looks something like the code block below. <tt>csv-schema</tt> infers the names of the columns from the header, and the data type for each column from the first row of values.</p> 
 <div class="source"> 
  <pre>{
  &quot;type&quot; : &quot;record&quot;,
  &quot;name&quot; : &quot;Sandwich&quot;,
  &quot;doc&quot; : &quot;Schema generated by Kite&quot;,
  &quot;fields&quot; : [ {
    &quot;name&quot; : &quot;name&quot;,
    &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],
    &quot;doc&quot; : &quot;Type inferred from \&quot;Reuben\&quot;&quot;
  }, {
    &quot;name&quot; : &quot;description&quot;,
    &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],
    &quot;doc&quot; : &quot;Type inferred from \&quot; Pastrami and sauerkraut on toasted rye with Russian dressing.\&quot;&quot;
  } ]
}
</pre> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Create_the_Dataset">Create the Dataset</h2> 
 <p>With a schema, you can create a new dataset. Enter the following command.</p> 
 <p><tt>dataset create sandwiches -s sandwich.avsc</tt></p> 
 <p>While it does not create actual sandwiches, it does create an empty dataset in which you can store sandwich descriptions, which is the next best thing. Probably.</p> 
 <p>Just for giggles, you can reverse the process you just completed and look at the underlying schema of your dataset using the following command.</p> 
 <p><tt>dataset schema sandwiches</tt></p> 
 <p>You'll get the same schema back, but this time, trust me, it's coming from the Hive repository. Honest.</p> 
 <div class="source"> 
  <pre>{
  &quot;type&quot; : &quot;record&quot;,
  &quot;name&quot; : &quot;Sandwich&quot;,
  &quot;doc&quot; : &quot;Schema generated by Kite&quot;,
  &quot;fields&quot; : [ {
    &quot;name&quot; : &quot;name&quot;,
    &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],
    &quot;doc&quot; : &quot;Type inferred from \&quot;Reuben\&quot;&quot;
  }, {
    &quot;name&quot; : &quot;description&quot;,
    &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],
    &quot;doc&quot; : &quot;Type inferred from \&quot; Pastrami and sauerkraut on toasted rye with Russian dressing.\&quot;&quot;
  } ]
}
</pre> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Import_the_CSV_Data">Import the CSV Data</h2> 
 <p>You've created a dataset in the Hive repository, which is the container, but not the information itself. Next, you might want to add some data so that you can run some queries. Use the following command to import the sandwiches in your CSV file.</p> 
 <p><tt>dataset csv-import sandwiches.csv sandwiches</tt></p> 
 <p>The method returns a record count. <tt>Added 2 records to dataset &amp;quot;sandwiches&amp;quot;</tt></p> 
 <p>But can you believe that? Inquiring minds want to verify that the information is actually in the dataset.</p> 
</div> 
<div class="section"> 
 <h2 id="Show_the_Results">Show the Results</h2> 
 <p>You can list records from your newly created dataset using the <tt>show</tt> command.</p> 
 <p><tt>dataset show sandwiches</tt></p> 
 <p>By default, CLI retrieves up to the first 10 records from your dataset.</p> 
 <div class="source"> 
  <pre>{&quot;name&quot;: &quot;Reuben&quot;, &quot;description&quot;: &quot; Pastrami and sauerkraut on toasted rye with Russian dressing.&quot;}
{&quot;name&quot;: &quot;PBJ&quot;, &quot;description&quot;: &quot; Peanut butter and grape jelly on white bread.&quot;}
</pre> 
 </div> 
 <p>If you find that number of sandwiches overwhelming, you can change the number of records the query returns.</p> 
 <p><tt>dataset show sandwiches -n 1</tt></p> 
 <p>This time only the first record prints to screen.</p> 
 <div class="source"> 
  <pre>{&quot;name&quot;: &quot;Reuben&quot;, &quot;description&quot;: &quot; Pastrami and sauerkraut on toasted rye with Russian dressing.&quot;}
</pre> 
 </div> 
 <p>You can import additional records to the database and use Hive or Impala to query the results.</p> 
</div> 
<div class="section"> 
 <h2 id="Delete_the_Dataset">Delete the Dataset</h2> 
 <p>Given the ease with which you just created the sandwiches dataset, it seems a shame to destroy it out of hand. Keep in mind that this was only an example, and not something you were meant to treasure. I suppose you don't have to delete it, you might want to keep it around as a souvenir, like the first dollar earned or something like that. If so, create a dataset you hate, and prepare to annihilate it using this unassuming command.</p> 
 <p><tt>dataset delete sandwiches</tt></p> 
 <p>There they go. Reuben and PBJ are gone. But you can create them again, or any other dataset you choose, using the CLI.</p> 
 <hr /> 
 <p><a href="kitedatasetcli.html">Kite Command Line Interface</a></p> 
 <p>Back to the <a href="overview.html">Kite Documentation</a> page.</p> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->
	
	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Main</li>
						<li>
							<a href="index.html" title="Home">Home </a>
						</li>
						<li>
							<a href="release_notes.html" title="Release Notes">Release Notes </a>
						</li>
						<li>
							<a href="apidocs/index.html" title="Javadoc">Javadoc </a>
						</li>
						<li>
							<a href="jdiff/changes.html" title="API Diffs">API Diffs </a>
						</li>
						<li>
							<a href="dependencies.html" title="Dependency Information">Dependency Information </a>
						</li>
						<li>
							<a href="migrating.html" title="Migrating from CDK">Migrating from CDK </a>
						</li>
						<li>
							<a href="http://github.com/kite-sdk/kite-examples" title="Examples" class="externalLink">Examples </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Modules</li>
						<li>
							<a href="kite-data/index.html" title="Kite Data">Kite Data </a>
						</li>
						<li>
							<a href="kite-maven-plugin/index.html" title="Kite Maven Plugin">Kite Maven Plugin </a>
						</li>
						<li>
							<a href="kite-morphlines/index.html" title="Kite Morphlines">Kite Morphlines </a>
						</li>
						<li>
							<a href="kite-tools/index.html" title="Kite Tools">Kite Tools </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Contribute</li>
						<li>
							<a href="http://github.com/kite-sdk/kite" title="Source Repository" class="externalLink">Source Repository </a>
						</li>
						<li>
							<a href="https://issues.cloudera.org/browse/CDK" title="JIRA" class="externalLink">JIRA </a>
						</li>
						<li>
							<a href="https://groups.google.com/a/cloudera.org/forum/#!forum/cdk-dev" title="Mailing List" class="externalLink">Mailing List </a>
						</li>
						<li>
							<a href="how_to_contribute.html" title="How To Contribute">How To Contribute </a>
						</li>
						<li>
							<a href="adding_a_module.html" title="Adding a Module">Adding a Module </a>
						</li>
						<li>
							<a href="project-info.html" title="Project Information">Project Information </a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
		
	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2013-2014. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 0.14.0. </span><span class="publishDate">Last Published: 2014-05-13. </span></p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->

	<!-- Fallback jQuery loading from Google CDN:
	     http://stackoverflow.com/questions/1014203/best-way-to-use-googles-hosted-jquery-but-fall-back-to-my-hosted-library-on-go -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script type="text/javascript">
		if (typeof jQuery == 'undefined')
		{
			document.write(unescape("%3Cscript src='./js/jquery-1.8.3.min.js' type='text/javascript'%3E%3C/script%3E"));
		}
	</script>
	
	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.js"></script>
	<script src="./js/jquery.smooth-scroll.min.js"></script>
	<!-- back button support for smooth scroll -->
	<script src="./js/jquery.ba-bbq.min.js"></script>
	<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>

	<script src="./js/reflow-skin.js"></script>
	
	</body>
</html>
